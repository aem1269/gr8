{% extends 'base.html' %}
{% block content %}

<h1>Shopping Cart</h1>
{% if cart_courses.count %}
<hr />
<input type="text" class="form-control" id="searchbox" placeholder="Enter Search Term" />
<hr />
<div class="row course-header">
    <div class="col-md-2">Code</div>
    <div class="col-md-3">Course Name</div>
    <div class="col-md-1">Section</div>
    <div class="col-md-3">Instructor</div>
    <div class="col-md-1">Credits</div>
    <div class="col-md-2">Term</div>
</div>

{% for enrolled_in in cart_courses %}
<div class="row course-row" id="{{ enrolled_in.course.id }}">
    <div class="col-md-2 course-code course-col">
        {{ enrolled_in.course.course_code }}
    </div>
    <div class="col-md-3 course-name course-col"><a href="{% url 'grading:info' enrolled_in.course.id %}">
        {{ enrolled_in.course.name }}
    </a></div>
    <div class="col-md-1 course-section course-col">
        {{ enrolled_in.course.section }}
    </div>
    <div class="col-md-3 course-instructor course-col">
        {{ enrolled_in.course.get_prof }}
    </div>
    <div class="col-md-1 course-credits course-col">
        {{ enrolled_in.course.credits }}
    </div>
    <div class="col-md-2 course-term course-col">
        {{ enrolled_in.course.term }}
    </div>
</div>

{% endfor %}
<form action="{% url 'grading:cart' %}" method="POST">
{% csrf_token %}

<input class="btn btn-primary" type="submit" name="check_conflicts" value="Check Conflicts">
</form>
{% else %}
<h2>Your shopping cart is empty. Add some courses to see them here!</h2>
{% endif %}

{% if conflict_dict %}
<h2>Here are your conflicts:</h2>
{% for session, event in conflict_dict.items %}
<p>{{ session }} : {{ event.summary }} </p>
{% endfor %}
{% endif %}

{% endblock content %}
{% block extrascripts %}
<script src="/static/grading/course_list.js"></script>
{% endblock extrascripts %}